<html>
<head>
    <title>JSON With AJAX</title>
    <script>

        var xhr;
		
		
        function getPage() 
        {
			// ajax
			  xhr=new XMLHttpRequest();

			  console.log(xhr)

			
			xhr.onreadystatechange = statusCheck; 
			// request 
			xhr.open('GET','5_2_4_webStud_json.txt', true);
			xhr.send();
			
			
        }
		
		
        function statusCheck() 
        {
            if (xhr.readyState == 4) //4= loaded
            {
                if (xhr.status == 200) //200=OK
                {
                    //document.write(xhr.responseText);
					var jsonStr=xhr.responseText;

					console.log(xhr.responseText)

                    alert(jsonStr);
					var jsonT =JSON.parse(jsonStr);

                    document.write("jsonT.wclass.length= " + jsonT.wclass.length + "<br />jsonT.wclass[0].name: " + jsonT.wclass[0].name);

                } 
            }
        }

    
            
    </script>
</head>
<body>
<input type="button" id="button2" onclick="getPage()" value="Get JSON" />


</body>
</html>
